/*
 * react-twoo
 * undefined
 * https://github.com/aarondupon/react-twoo
 * v0.1.0
 * undefined License
 */

'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var mapType = require('./mapType.js');
var mapSize = require('./mapSize.js');

/**
 * Extracts the attributes
 * @class
 * @memberof PIXI.glCore.shader
 * @param gl {WebGLRenderingContext} The current WebGL rendering context
 * @param program {WebGLProgram} The shader program to get the attributes from
 * @return attributes {Object}
 */


var extractAttributes = function extractAttributes(gl, program) {
  var attributes = {};
  var totalAttributes = gl.getProgramParameter(program, gl.ACTIVE_ATTRIBUTES);

  for (var i = 0; i < totalAttributes; i++) {
    var attribData = gl.getActiveAttrib(program, i);
    var type = mapType['default'](gl, attribData.type);
    attributes[attribData.name] = {
      type: type,
      size: mapSize['default'](type),
      location: gl.getAttribLocation(program, attribData.name),
      //TODO - make an attribute object
      pointer: pointer
    };
  }

  return attributes;
};

var pointer = function pointer(type, normalized, stride, start) {
  // console.log(this.location)
  gl.vertexAttribPointer(this.location, this.size, type || gl.FLOAT, normalized || false, stride || 0, start || 0);
};

var extractAttributes_1 = extractAttributes;

exports.__moduleExports = extractAttributes_1;
exports.default = extractAttributes_1;
